\ProvidesPackage{blubase}[2024/07/12]

\newif\ifbirdbeamer     \birdbeamerfalse
\DeclareOption{beaming}{\birdbeamertrue}
\ProcessOptions\relax

\usepackage{amsmath, amssymb, amsthm, amsfonts}
\usepackage{mathtools}
\usepackage{nccmath}
\usepackage{array}
\usepackage{float}
\ifbirdbeamer\else
  \usepackage{enumitem}
\fi
\usepackage{makecell}
\usepackage{accents}
\usepackage{algorithm}
\usepackage{algpseudocode}
\usepackage{bm} % for categories
\usepackage{mathpartir}
\usepackage{stmaryrd} % oxford brackets
\usepackage{ytableau} % young tableaux
\DeclareMathAlphabet{\numbb}{U}{BOONDOX-ds}{m}{n}
%\usepackage{bbm} % blackboard numbers
%\usepackage[bb=libus]{mathalpha} % blackboard lowercase

% graphics
\usepackage[inline]{asymptote} % preferred for oly geo
\usepackage{tikz-cd} % for categories
\usepackage{tikz} 
\usepackage{environ} % for pipe dreams

\usepackage{graphicx}
\usepackage{subcaption}

\usepackage{mathrsfs}
\usepackage[T1]{fontenc}

\usepackage{etoolbox}
\usepackage{adjustbox}

% makes \oint circle smaller
\let\origointop\ointop
\usepackage{esint}
\let\ointop\origointop

% Make \bfseries include \boldmath
\makeatletter
\g@addto@macro\bfseries{\boldmath}
\makeatother

% Macros
\newcommand{\NewPage}{\vfill\eject}
\newcommand{\ds}{\displaystyle}
\newcommand{\mfk}[1]{\mathfrak{#1}}
\newcommand{\msc}[1]{\mathscr{#1}}
\newcommand{\ud}[1]{\rotatebox[origin=c]{180}{#1}}

% Emphasizing
\newcommand{\tbf}[1]{\textbf{#1}}
\newcommand{\tit}[1]{\textit{#1}}
\newcommand{\ttt}[1]{\texttt{#1}}
\newcommand{\mt}[1]{\text{#1}}
\newcommand{\vocab}[1]{\textbf{\color{blue}\boldmath #1}}
\newcommand{\ol}[1]{\overline{#1}}
\newcommand{\ul}[1]{\underline{#1}}
\renewcommand{\bf}[1]{\mathbf{#1}}

% Syntactically-named delimiters	
\newcommand{\braces}[1]{\left\{ #1 \right\}}	
\newcommand{\parens}[1]{\left(#1\right)}	
\newcommand{\brackets}[1]{\left[ #1 \right]}	
\newcommand{\angles}[1]{\left\langle #1 \right\rangle}	
\newcommand{\verts}[1]{\left\lvert #1 \right\rvert}	
\newcommand{\Verts}[1]{\left\lVert #1 \right\rVert}	
\newcommand{\floor}[1]{\left\lfloor #1 \right\rfloor}	
\newcommand{\ceil}[1]{\left\lceil #1 \right\rceil}	
\newcommand{\multiset}[1]{\left\{\left\{ #1 \right\}\right\}}
\newcommand{\quine}[1]{\left\ulcorner #1 \right\urcorner}

% Semantically-named delimiters	
\newcommand{\set}[1]{\braces{#1}}	
\newcommand{\abs}[1]{\verts{#1}}	
\newcommand{\size}[1]{\verts{#1}}	
\newcommand{\norm}[1]{\Verts{#1}}	
\newcommand{\tuple}[1]{\angles{#1}}
\newcommand{\idl}[1]{\angles{#1}}

% Symbols
\newcommand{\eps}{\varepsilon}
\newcommand{\vphi}{\varphi}
\newcommand{\nullset}{\varnothing}
\newcommand{\st}{\; \middle\vert \;}
\newcommand{\divides}{\; \middle\vert \;}
\newcommand{\mto}{\mapsto}
\newcommand{\bs}{\backslash}
\newcommand{\xto}[1]{\xrightarrow{#1}}
\newcommand{\xgets}[1]{\xleftarrow{#1}}

% Basic Math
\newcommand{\half}{\ensuremath{\frac{1}{2}}}
\newcommand{\cbrt}[1]{\sqrt[3]{#1}}

% Sets/Orders
\newcommand{\FF}{\mathbb F}
\newcommand{\NN}{\mathbb N}
\newcommand{\ZZ}{\mathbb Z}
\newcommand{\QQ}{\mathbb Q}
\newcommand{\RR}{\mathbb R}
\newcommand{\bbA}{\mathbb A}
\newcommand{\CC}{\mathbb C}
\newcommand{\HH}{\mathbb H}
\newcommand{\GG}{\mathbb G} %PUMaC 2018 Power
\newcommand{\GGtil}{\Tilde{\mathbb G}} %PUMaC 2018 Power
\newcommand{\KK}{\mathbb K}
\newcommand{\kk}{\Bbbk}
\newcommand{\II}{\mathbb I}
\newcommand{\TT}{\mathbb T}
\newcommand{\cOO}{\mathcal O}
\newcommand{\cBB}{\mathcal B}
\newcommand{\cPP}{\mathcal P}
\newcommand{\cSS}{\mathcal S}
\newcommand{\id}{\mathrm{id}}
\newcommand{\ev}{\mathrm{ev}}
\newcommand{\codom}{\mathrm{codom}}
\newcommand{\dom}{\mathrm{dom}}
\newcommand{\pto}{\rightharpoonup}
\newcommand{\minor}{\prec}
\newcommand{\major}{\succ}
\newcommand{\covs}{\gtrdot}
\newcommand{\covby}{\lessdot}
\newcommand{\const}[1]{\mathrm{const}_{#1}}
\newcommand{\mc}[1]{\mathcal{#1}}
\newcommand{\mb}[1]{\mathbb{#1}}

% Complex
\DeclareMathOperator*{\argmax}{argmax}
\DeclareMathOperator*{\argmin}{argmin}
\renewcommand{\Re}{\operatorname{Re}}
\renewcommand{\Im}{\operatorname{Im}}
\DeclareMathOperator{\cis}{cis}
\newcommand{\conj}[1]{\ol{#1}}
\DeclareMathOperator*{\Arg}{Arg}
\DeclareMathOperator*{\Log}{Log}

% Topology
\newcommand{\inter}[1]{\accentset{\circ}{#1}} %interior	
\newcommand{\closu}[1]{\overline{#1}} %closure	
\newcommand{\bound}{\partial} %boundary	

% Combinatorics / Statistics
\newcommand{\EE}{\mathbb E}
\newcommand{\EV}{E}
\newcommand{\PP}{\mathbb P}
\newcommand{\fallingfact}[2]{#1^{\underline{#2}}}
\newcommand{\ffact}[2]{\fallingfact{#1}{#2}}
\newcommand{\risingfact}[2]{#1^{\overline{#2}}}
\newcommand{\rfact}[2]{\risingfact{#1}{#2}}
\newcommand{\permutation}[2]{P^{#1}_{#2}}
\newcommand{\perm}[2]{\permuation{#1}{#2}}
\newcommand{\combination}[2]{C^{#1}_{#2}}
\newcommand{\comb}[2]{\combination{#1}{#2}}
\newcommand{\stirlingone}[2]{\genfrac[]{0pt}{1}{#1}{#2}}
\newcommand{\stiri}[2]{\stirlingone{#1}{#2}}
\newcommand{\dstirlingone}[2]{\genfrac[]{0pt}{0}{#1}{#2}}
\newcommand{\dstiri}[2]{\dstirlingone{#1}{#2}}
\newcommand{\stirlingtwo}[2]{\genfrac\{\}{0pt}{1}{#1}{#2}}
\newcommand{\stirii}[2]{\stirlingtwo{#1}{#2}}
\newcommand{\dstirlingtwo}[2]{\genfrac\{\}{0pt}{0}{#1}{#2}}
\newcommand{\dstirii}[2]{\dstirlingtwo{#1}{#2}}
\DeclareMathOperator{\Var}{Var}
\newcommand{\expval}[1]{\left\langle #1 \right\rangle}
\newcommand{\snb}[2]{\left(\binom{#1}{#2}\right)}
\newcommand{\tsnb}[2]{(\binom{#1}{#2})}
\newcommand{\multexp}[1]{\mathcal{I}_{#1}}
\newcommand{\permset}{\mathrm{Perm}}
\newcommand{\inv}{\mathrm{inv}}
\newcommand{\coinv}{\mathrm{coinv}}
\newcommand{\Inv}{\mathrm{Inv}}
\newcommand{\wt}{\mathrm{wt}} 

% Algebraic Combinatorics
\newcommand{\del}{\mathrm{del}}
\newcommand{\link}{\mathrm{link}}
\DeclareMathOperator{\schur}{Schur}
\newcommand{\hilb}{\mathrm{Hilb}}
\newcommand{\chow}{\mathrm{Chow}}
\newcommand{\ydiagset}{\yableausetup{mathmode, aligntableaux=center,boxsize=0.5em}}
\newcommand{\ytabset}{\ytableausetup{mathmode, aligntableaux=center,boxsize=1.3em}}
\newcommand{\ytabloidset}{\ytableausetup{mathmode, aligntableaux=center,
boxsize=1em, tabloids}}

%% Pipe Dreams
\NewEnviron{mosaic}[2][]{\begin{tikzpicture}[baseline]\def\tilesize{#2}\matrix[mosai,ampersand replacement=\&, #1]{\BODY};\end{tikzpicture}}

\newcommand{\cspace}{.1} % spacing for crossings
\newcommand{\tileedge}{.05pt} % thickness of tile edge. Does not scale.
\newcommand{\knotthickness}{1.5pt} % thickness of knot for 1cm tile. Scales with tile size.

\newcommand{\tileo}{\tikz \draw[tilestyle] (0,0) rectangle (\tilesize,\tilesize);}
\newcommand{\tilei}[1][{}]{\tikz {\draw[tilestyle] (0,0) rectangle (\tilesize,\tilesize); \draw[#1,knotstyle={\tilesize*\knotthickness}] (0,.5*\tilesize) to[out=0, in=90] (.5*\tilesize,0);}}
\newcommand{\tileii}[1][{}]{\tikz {\draw[tilestyle] (0,0) rectangle (\tilesize,\tilesize); \draw[#1,knotstyle={\tilesize*\knotthickness}] (\tilesize,.5*\tilesize) to[out=180, in=90] (.5*\tilesize,0);}}
\newcommand{\tileiii}[1][{}]{\tikz {\draw[tilestyle] (0,0) rectangle (\tilesize,\tilesize); \draw[#1,knotstyle={\tilesize*\knotthickness}] (\tilesize,.5*\tilesize) to[out=180, in=-90] (.5*\tilesize,\tilesize);}}
\newcommand{\tileiv}[1][{}]{\tikz {\draw[tilestyle] (0,0) rectangle (\tilesize,\tilesize); \draw[#1,knotstyle={\tilesize*\knotthickness}] (0,.5*\tilesize) to[out=0, in=-90] (.5*\tilesize,\tilesize);}}
\newcommand{\tilev}[1][{}]{\tikz {\draw[tilestyle] (0,0) rectangle (\tilesize,\tilesize); \draw[#1,knotstyle={\tilesize*\knotthickness}] (0,.5*\tilesize) to (\tilesize,.5*\tilesize);}}
\newcommand{\tilevi}[1][{}]{\tikz {\draw[tilestyle] (0,0) rectangle (\tilesize,\tilesize); \draw[#1,knotstyle={\tilesize*\knotthickness}] (.5*\tilesize,0) to (.5*\tilesize,\tilesize);}}
\newcommand{\tilevii}[1][{}]{\tikz {\draw[tilestyle] (0,0) rectangle (\tilesize,\tilesize); \draw[#1,knotstyle={\tilesize*\knotthickness}] (0,.5*\tilesize) to[out=0, in=90] (.5*\tilesize,0); \draw[#1,knotstyle={\tilesize*\knotthickness}] (\tilesize,.5*\tilesize) to[out=180, in=-90] (.5*\tilesize,\tilesize);}}
\newcommand{\tileviii}[1][{}]{\tikz {\draw[tilestyle] (0,0) rectangle (\tilesize,\tilesize); \draw[#1,knotstyle={\tilesize*\knotthickness}] (\tilesize,.5*\tilesize) to[out=180, in=90] (.5*\tilesize,0); \draw[#1,knotstyle={\tilesize*\knotthickness}] (0,.5*\tilesize) to[out=0, in=-90] (.5*\tilesize,\tilesize);}}
\newcommand{\tileix}[1][{}]{\tikz {\draw[tilestyle] (0,0) rectangle (\tilesize,\tilesize); \draw[#1,knotstyle={\tilesize*\knotthickness}] (0,.5*\tilesize) to (\tilesize,.5*\tilesize); \draw[#1,knotstyle={\tilesize*\knotthickness}] (.5*\tilesize,0) to (.5*\tilesize,.5*\tilesize-\tilesize*\cspace); \draw[#1,knotstyle={\tilesize*\knotthickness}] (.5*\tilesize,.5*\tilesize+\tilesize*\cspace) to (.5*\tilesize,\tilesize);}}
\newcommand{\tilex}[1][{}]{\tikz {\draw[tilestyle] (0,0) rectangle (\tilesize,\tilesize); \draw[#1,knotstyle={\tilesize*\knotthickness}] (.5*\tilesize,0) to (.5*\tilesize,\tilesize); \draw[#1,knotstyle={\tilesize*\knotthickness}] (0,.5*\tilesize) to (.5*\tilesize-\tilesize*\cspace,.5*\tilesize); \draw[#1,knotstyle={\tilesize*\knotthickness}] (.5*\tilesize+\tilesize*\cspace,.5*\tilesize) to (\tilesize,.5*\tilesize);}}
\newcommand{\XT}[1][{}]{\tikz {\draw[tilestyle] (0,0) rectangle (\tilesize,\tilesize); \draw[#1,knotstyle={\tilesize*\knotthickness}] (.5*\tilesize,0) to (.5*\tilesize,\tilesize); \draw[#1,knotstyle={\tilesize*\knotthickness}] (0,.5*\tilesize) to (.5*\tilesize,.5*\tilesize); \draw[#1,knotstyle={\tilesize*\knotthickness}] (.5*\tilesize,.5*\tilesize) to (\tilesize,.5*\tilesize);}}

\tikzset{tilestyle/.style={use as bounding box, line width=\tileedge}} % Add colors/styles here for tile edge and fill. Example: fill=gray!30 for light gray background
\tikzset{knotstyle/.style={line width=#1}} % Add colors and other line styles here
\tikzset{mosai/.style={execute at begin cell=\node\bgroup, execute at end cell=\egroup;, column sep={\tilesize cm,between origins}, row sep={\tilesize cm,between origins}, inner sep=0}}

\newcommand{\BT}{\tileviii}


% Geometry
\newcommand{\dg}{^\circ}
\newcommand{\seg}[1]{\overrightarrow{#1}}
\newcommand{\ray}[1]{\overrightarrow{#1}}
\newcommand{\dang}{\measuredangle}

% Trigonometry
\DeclareMathOperator{\arcsec}{\mathrm{arcsec}}
\DeclareMathOperator{\arccot}{\mathrm{arccot}}
\DeclareMathOperator{\arccsc}{\mathrm{arccsc}}
\DeclareMathOperator{\sinc}{\mathrm{sinc}}
\DeclareMathOperator{\sech}{\mathrm{sech}}
\DeclareMathOperator{\csch}{\mathrm{csch}}
\DeclareMathOperator{\arctanh}{\mathrm{arctanh}}
\DeclareMathOperator{\Arcsin}{Arcsin}
\DeclareMathOperator{\Arccos}{Arccos}
\DeclareMathOperator{\Arctan}{Arctan}
\DeclareMathOperator{\Arcsec}{Arcsec}
\DeclareMathOperator{\Arccot}{Arccot}
\DeclareMathOperator{\Arccsc}{Arccsc}

% Number Theory
\newcommand{\Mod}[1]{\ (\text{mod}\ #1)}
\renewcommand{\mod}[1]{\ \text{mod}\ #1}
\DeclareMathOperator*{\lcm}{lcm}
\newcommand{\vp}[1]{\nu_{#1}}

% Linear Algebra
\newcommand{\bmat}[1]{\begin{bmatrix}#1\end{bmatrix}}
\newcommand{\pmat}[1]{\begin{pmatrix}#1\end{pmatrix}}	
\newcommand{\tbmat}[1]{\begin{bsmallmatrix}#1\end{bsmallmatrix}}
\newcommand{\tpmat}[1]{\begin{psmallmatrix}#1\end{psmallmatrix}}
\newenvironment{apmatrix}[1]{%
  \left(\begin{array}{@{}*{#1}{c}|c@{}}
}{%
  \end{array}\right)
}
\newenvironment{abmatrix}[1]{%
  \left[\begin{array}{@{}*{#1}{c}|c@{}}
}{%
  \end{array}\right]
}
\newcommand{\apmat}[2]{\begin{apmatrix}{#1} #2 \end{apmatrix}}
\newcommand{\abmat}[2]{\begin{abmatrix}{#1} #2 \end{abmatrix}}
\DeclareMathOperator{\spn}{span}
\DeclareMathOperator{\rank}{rank}
\DeclareMathOperator{\im}{im}
\newcommand{\cbasis}[2]{\left[P_{\braces{\bf{#1}} \rightarrow \braces{\bf{#2}}}\right]}	
\newenvironment{dpmatrix}[1]{%	
  \left(\begin{array}{@{}*{#1}{c}|*{#1}{c}@{}}	
}{%	
  \end{array}\right)	
}	
\newenvironment{dbmatrix}[1]{%	
  \left[\begin{array}{@{}*{#1}{c}|*{#1}{c}@{}}	
}{%	
  \end{array}\right]	
}	
\newcommand{\dpmat}[2]{\begin{dpmatrix}{#1} #2 \end{dpmatrix}}	
\newcommand{\dbmat}[2]{\begin{dbmatrix}{#1} #2 \end{dbmatrix}} 
\newcommand{\mat}{\mathrm{Mat}}
\DeclareMathOperator{\tr}{tr}
\newcommand{\innerproduct}[2]{\left\langle #1, #2 \right\rangle}
\newcommand{\ip}[2]{\innerproduct{#1}{#2}}
\DeclareMathOperator{\sgn}{sgn}
\DeclareMathOperator{\sign}{sign}
\DeclareMathOperator{\adj}{\mathrm{adj}}

% Calculus
\newcommand{\dv}[2]{\frac{d #1}{d #2}}
\newcommand{\ddv}[2]{\frac{d^2 #1}{d #2^2}}
\newcommand{\dnv}[3]{\frac{d^{#3} #1}{d #2^{#3}}}
\newcommand{\pdv}[2]{\frac{\partial #1}{\partial #2}}
\newcommand{\pddv}[2]{\frac{\partial^2 #1}{\partial #2^2}}
\newcommand{\pdnv}[3]{\frac{\partial^{#3} #1}{\partial #2^{#3}}}
\newcommand{\mpddv}[3]{\frac{\partial^2 #1}{\partial #2 \, \partial #3}}
\newcommand{\pdvc}[3]{\left(\pdv{#1}{#2}\right)_{#3}}
\newcommand{\idv}[2]{\frac{\delta #1}{d #2}}
\newcommand{\idvc}[3]{\left(\idv{#1}{#2} \right)_{#3}}
\newcommand{\pop}[1]{\partial_{#1}}	
\newcommand{\jacob}[1]{\left[\mathcal{J}#1\right]}	
\newcommand{\deriv}[1]{\left[\mathcal{D}#1\right]}

% Analysis
\newcommand{\taylorone}[3]{p^{#2}_{#1 , #3}}
\newcommand{\taylor}[3]{P^{#2}_{#1 , #3}}
\newcommand{\ind}[1]{\bf{1}_{#1}}
\newcommand{\vol}{\mathrm{vol}}
\newcommand{\dpav}[1]{\mathcal{D}_{#1}}
\newcommand{\dvol}[2]{\abs{d^{#1}\bf{#2}}}
\DeclareMathOperator{\supp}{supp}
\newcommand{\area}{\text{area}}
\newcommand{\hausd}[1]{\mathcal{H}^{#1}}
\newcommand{\dmanvol}[1]{\sqrt{\det\left({#1}^\top {#1}\right)}}

% Differential Operators
\newcommand{\divergence}[1]{\nabla \cdot #1}
\renewcommand{\div}[1]{\divergence #1}
\newcommand{\curl}[1]{\nabla \times #1}
\newcommand{\gradient}[1]{\nabla #1}
\newcommand{\grad}[1]{\gradient #1}
\newcommand{\laplacian}[1]{\nabla^2 #1}
\newcommand{\hadj}[1]{#1^{\dagger}}
\DeclareMathOperator{\tcurl}{\operatorname{curl}}
\DeclareMathOperator{\tdiv}{\operatorname{div}}
\DeclareMathOperator{\tgrad}{\operatorname{grad}}

% Algebra
\DeclareMathOperator{\ord}{ord}
\newcommand{\iso}{\cong}
\newcommand{\nsub}{\trianglelefteq}
\newcommand{\aut}{\mathrm{Aut}}
\newcommand{\inn}{\mathrm{Inn}}
\newcommand{\out}{\mathrm{Out}}
\DeclareMathOperator{\edom}{\mathrm{End}}
\newcommand{\ann}{\mathrm{Ann}}
\newcommand{\sym}{\mathrm{sym}}
\newcommand{\actson}{\curvearrowright}
\newcommand{\stab}{\mathrm{stab}}
\newcommand{\orb}{\mathcal O}
\DeclareMathOperator{\chr}{\mathrm{char}}
\newcommand{\Hom}{\mathrm{Hom}}
\newcommand{\cay}{\mathrm{Cay}}
\newcommand{\Ind}{\mathrm{Ind}}
\newcommand{\Gal}{\mathrm{Gal}}
\newcommand{\Tr}{\mathrm{Tr}}
\newcommand{\Nm}{\mathrm{N}}

% Group Cohomology
\newcommand{\Res}{\mathrm{Res}}
\newcommand{\Cor}{\mathrm{Cor}}
\newcommand{\Inf}{\mathrm{Inf}}

% Commutative Algebra/Algebraic Geometry
\DeclareMathOperator{\hit}{\mathrm{ht}}
\DeclareMathOperator{\trdeg}{\mathrm{trdeg}}
\newcommand{\Frac}{\mathrm{Frac}}
\newcommand{\ratto}{\dashrightarrow}
\DeclareMathOperator{\spec}{\mathrm{Spec}}
\DeclareMathOperator{\proj}{\mathrm{Proj}}

% Matrix Groups/Lie Algebras
\newcommand{\aff}{\mathrm{Aff}}
\newcommand{\GL}{\mathrm{GL}}
\newcommand{\SL}{\mathrm{SL}}
\newcommand{\OG}{\mathrm{O}}
\newcommand{\SO}{\mathrm{SO}}
\newcommand{\UG}{\mathrm{U}}
\newcommand{\SU}{\mathrm{SU}}
\newcommand{\SP}{\mathrm{Sp}}
\newcommand{\glla}{\mathfrak{gl}}
\newcommand{\slla}{\mathfrak{sl}}
\newcommand{\ola}{\mathfrak{o}}
\newcommand{\sola}{\mathfrak{so}}
\newcommand{\ula}{\mathfrak{u}}
\newcommand{\sula}{\mathfrak{su}}
\newcommand{\spla}{\mathfrak{sp}}
\newcommand{\lie}{\mathrm{Lie}}
\newcommand{\Ad}{\mathrm{Ad}} % adjoint representation 
\newcommand{\Gr}{\mathrm{Gr}}
\newcommand{\Fl}{\mathrm{Fl}}

% Manifolds
\newcommand{\Der}{\mathrm{Der}}
\newcommand{\ldv}{\mathscr{L}} % Lie derivative
\newcommand{\vfs}{\mathscr{X}} % smooth vector fields
\newcommand{\Bl}{\mathrm{Bl}} % blow-up
\newcommand{\tnvs}{\pitchfork} % transverse 
\DeclareMathOperator{\codim}{\mathrm{codim}}
\newcommand{\Fr}{\mathrm{Fr}} % frames
\newcommand{\Diff}{\mathrm{Diff}} % diffeomorphisms
\newcommand{\Symp}{\mathrm{Symp}} % symplectomorphisms
\newcommand{\extd}{\bf{d}}
\newcommand{\baset}{\mathcal{B}} % basis vectors

% Semantics/Programming Languages
\newcommand{\oxbrace}[1]{\left\llbracket#1\right\rrbracket}

% Category Theory
\newcommand{\cat}[1]{\textbf{#1}}
\newcommand{\opp}[1]{{#1}^{\mathsf{op}}}
\newcommand{\ad}{\mathrm{ad}}
\DeclareMathOperator{\Rep}{\cat{Rep}}

% Algebraic Topology 
\newcommand{\htpy}{\simeq}
\newcommand{\cupp}{\smallsmile}

% Homological Algebra
\newcommand{\ext}{\mathrm{Ext}}
\newcommand{\tor}{\mathrm{Tor}}
\DeclareMathOperator{\coker}{\mathrm{coker}}
\DeclareMathOperator{\coim}{\mathrm{coim}}
\newcommand{\cone}{\mathrm{cone}}
\newcommand{\cyl}{\mathrm{cyl}}

% Physics
% \renewcommand{\hat}{\mathbf}
\newcommand{\lvec}[1]{\overrightarrow{#1}}
\newcommand{\vect}[1]{\vec{\bf{#1}}} % for heathens only
\newcommand{\hatt}[1]{\hat{\bf{#1}}} % also for heathens only
\newcommand{\ihat}{\hat{\i}}
\newcommand{\jhat}{\hat{\j}}
\DeclareMathSymbol{\ii}{\mathalpha}{letters}{"10}
\DeclareMathSymbol{\jj}{\mathalpha}{letters}{"11}
\newcommand{\ihatt}{\mathbf {\hat{\ii}}}
\newcommand{\jhatt}{\mathbf {\hat{\jj}}}
\newcommand{\lagrangian}{\mathcal{L}}
\newcommand{\lagr}{\lagrangian}
\newcommand{\emf}{\mathcal{E}}
\newcommand{\order}{\mathcal{O}}
\newcommand{\hamiltonian}{\mathcal{H}}
\newcommand{\ham}{\hamiltonian}
\newcommand{\rot}[2]{R_{\hat{#1}} \left( #2 \right)}

% Relativity and Four-Vectors
\newcommand{\fourvec}[4]{\bmat{#1 \\ #2 \\ #3 \\ #4}}
\newcommand{\twovec}[2]{\bmat{#1 \\ #2}}

% Dirac Notation
\newcommand{\ket}[1]{\left| #1 \right\rangle}
\newcommand{\bra}[1]{\left\langle #1 \right|}
\newcommand{\innerproductd}[2]{\left\langle #1 \middle| #2 \right\rangle}
\newcommand{\braket}[2]{\innerproductd{#1}{#2}}
\newcommand{\ipd}[2]{\innerproductd{#1}{#2}}
\newcommand{\innerproductoperator}[3]{\left\langle #1 \middle| #2 \middle| #3 \right\rangle}
\newcommand{\ipod}[3]{\innerproductoperator{#1}{#2}{#3}}
\newcommand{\outerproduct}[2]{\left| #1 \right\rangle \left\langle #2 \right|}
\newcommand{\dyad}[2]{\outerproduct{#1}{#2}}
\newcommand{\op}[2]{\outerproduct{#1}{#2}}
\newcommand{\ketbra}[2]{\outerproduct{#1}{#2}}
\newcommand{\pr}[2]{\text{proj}_{\ket{#1}} \ket{#2}}
\newcommand{\prop}[1]{P_{\ket{#1}}}
\makeatletter
\newcommand{\propset}[2]{P_{\{\ket{#1}, \ket{#2}\checknextargP\}}}
\newcommand{\checknextargP}{\@ifnextchar\bgroup{\gobblenextargP}}
\newcommand{\gobblenextargP}[1]{, \ket{#1}\@ifnextchar\bgroup{\gobblenextargP}}

% Commutators
\newcommand{\commutator}[2]{\left[#1, #2\right]}
\newcommand{\comm}[2]{\commutator{#1}{#2}}
\newcommand{\anticommutator}[2]{\left{#1, #2\right}}
\newcommand{\anticomm}[2]{\anticommutator{#1}{#2}}
